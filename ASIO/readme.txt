Program forked from boost::asio to understand the APIs.